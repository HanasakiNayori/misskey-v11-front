(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1120:function(t,e,r){"use strict";r.r(e);var s=r(0),a=r(3),i=r(2),o=r(8),n=s.default.extend({i18n:Object(a.a)("common/views/components/user-group-editor.vue"),props:{groupId:{required:!0}},data:()=>({group:null,users:[],faCrown:i.S,faICursor:i.Jb,faTrashAlt:o.H,faUsers:i.id,faPlus:i.pc}),created(){this.$root.api("users/groups/show",{groupId:this.groupId}).then(t=>{this.group=t,this.fetchUsers(),this.$emit("init",{title:this.group.name,icon:i.id})})},methods:{fetchGroup(){this.$root.api("users/groups/show",{groupId:this.group.id}).then(t=>{this.group=t})},fetchUsers(){this.$root.api("users/show",{userIds:this.group.userIds}).then(t=>{this.users=t})},rename(){this.$root.dialog({title:this.$t("rename"),input:{default:this.group.name}}).then(({canceled:t,result:e})=>{t||this.$root.api("users/groups/update",{groupId:this.group.id,name:e}).then(()=>{this.fetchGroup()}).catch(t=>{this.$root.dialog({type:"error",text:t})})})},del(){this.$root.dialog({type:"warning",text:this.$t("delete-are-you-sure").replace("$1",this.group.name),showCancelButton:!0}).then(({canceled:t})=>{t||this.$root.api("users/groups/delete",{groupId:this.group.id}).then(()=>{this.$root.dialog({type:"success",text:this.$t("deleted")})}).catch(t=>{this.$root.dialog({type:"error",text:t})})})},remove(t){this.$root.api("users/groups/pull",{groupId:this.group.id,userId:t.id}).then(()=>{this.fetchGroup(),this.fetchUsers()}).catch(t=>{this.$root.dialog({type:"error",text:t})})},async invite(){const t=this.$t("invited"),{result:e}=await this.$root.dialog({user:{local:!0}});null!=e&&this.$root.api("users/groups/invite",{groupId:this.group.id,userId:e.id}).then(()=>{this.$root.dialog({type:"success",text:t})}).catch(t=>{this.$root.dialog({type:"error",text:t})})},async transfer(){const{result:t}=await this.$root.dialog({user:{local:!0}});null!=t&&this.$root.dialog({type:"warning",text:this.$t("transfer-are-you-sure").replace("$1",this.group.name).replace("$2",t.username),showCancelButton:!0}).then(({canceled:e})=>{e||this.$root.api("users/groups/transfer",{groupId:this.group.id,userId:t.id}).then(()=>{this.$root.dialog({type:"success",text:this.$t("transferred")})}).catch(t=>{this.$root.dialog({type:"error",text:t})})})}}}),u=(r(852),r(1)),d=Object(u.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ivrbakop"},[t.group?r("ui-container",{scopedSlots:t._u([{key:"header",fn:function(){return[r("fa",{attrs:{icon:t.faUsers}}),t._v(" "+t._s(t.group.name))]},proxy:!0}],null,!1,1765435718)},[r("section",[r("ui-margin",[r("ui-button",{on:{click:t.rename}},[r("fa",{attrs:{icon:t.faICursor}}),t._v(" "+t._s(t.$t("rename")))],1),r("ui-button",{on:{click:t.del}},[r("fa",{attrs:{icon:t.faTrashAlt}}),t._v(" "+t._s(t.$t("delete")))],1),r("ui-button",{on:{click:t.transfer}},[r("fa",{attrs:{icon:t.faCrown}}),t._v(" "+t._s(t.$t("transfer")))],1)],1)],1)]):t._e(),r("ui-container",{scopedSlots:t._u([{key:"header",fn:function(){return[r("fa",{attrs:{icon:t.faUsers}}),t._v(" "+t._s(t.$t("users")))]},proxy:!0}])},[r("section",[r("ui-margin",[r("ui-button",{on:{click:function(e){return t.invite()}}},[r("fa",{attrs:{icon:t.faPlus}}),t._v(" "+t._s(t.$t("invite")))],1)],1),r("sequential-entrance",{attrs:{animation:"entranceFromTop",delay:"25"}},t._l(t.users,(function(e){return r("div",{staticClass:"kjlrfbes"},[r("div",[r("a",{attrs:{href:t._f("userPage")(e)}},[r("mk-avatar",{staticClass:"avatar",attrs:{user:e,"disable-link":!0}})],1)]),r("div",[r("header",[r("b",[r("mk-user-name",{attrs:{user:e}})],1),t.group.ownerId===e.id?r("span",{staticClass:"is-owner"},[t._v("owner")]):t._e(),r("span",{staticClass:"username"},[t._v("@"+t._s(t._f("acct")(e)))])]),t.group.ownerId!==e.id?r("div",[r("a",{on:{click:function(r){return t.remove(e)}}},[t._v(t._s(t.$t("remove-user")))])]):t._e()])])})),0)],1)])],1)}),[],!1,null,"5735254a",null);e.default=d.exports},722:function(t,e,r){var s=r(853);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,r(5).default)("53a402f7",s,!0,{})},852:function(t,e,r){"use strict";var s=r(722);r.n(s).a},853:function(t,e,r){(e=r(4)(!1)).push([t.i,".ivrbakop .kjlrfbes[data-v-5735254a]{display:flex;padding:16px;border-top:1px solid var(--faceDivider)}.ivrbakop .kjlrfbes>div:first-child>a>.avatar[data-v-5735254a]{width:64px;height:64px}.ivrbakop .kjlrfbes>div[data-v-5735254a]:last-child{flex:1;padding-left:16px}@media (max-width:500px){.ivrbakop .kjlrfbes>div[data-v-5735254a]:last-child{font-size:14px}}.ivrbakop .kjlrfbes>div:last-child>header[data-v-5735254a]{color:var(--text)}.ivrbakop .kjlrfbes>div:last-child>header>.is-owner[data-v-5735254a]{flex-shrink:0;align-self:center;margin-left:8px;padding:1px 6px;font-size:80%;background:var(--groupUserListOwnerBg);color:var(--groupUserListOwnerFg);border-radius:3px}.ivrbakop .kjlrfbes>div:last-child>header>.username[data-v-5735254a]{margin-left:8px;opacity:.7}",""]),t.exports=e}}]);
//# sourceMappingURL=12.11.37.1.js.map