{"version":3,"sources":["webpack:///./src/client/app/common/views/widgets/queue.vue?92b3","webpack:///./src/client/app/common/views/widgets/queue.vue?2384","webpack:///./src/client/app/common/views/widgets/queue.vue?47a7","webpack:///./src/client/app/common/views/widgets/queue.vue?e193","webpack:///./src/client/app/common/views/widgets/queue.vue?c21a","webpack:///./src/client/app/common/views/widgets/queue.vue","webpack:///./src/client/app/common/views/widgets/queue.vue?1859"],"names":["exports","___CSS_LOADER_API_IMPORT___","push","module","i","name","props","compact","extend","data","stats","inChart","outChart","faTasks","watch","this","updateSeries","type","map","x","y","inbox","activeSincePrevTick","active","waiting","delayed","deliver","computed","length","chartOpts","chart","height","animations","dynamicAnimation","enabled","sparkline","dataLabels","tooltip","stroke","curve","width","colors","series","yaxis","min","$refs","in","out","render","connection","$root","stream","useSharedConnection","on","onStats","onStatsLog","send","id","Math","random","toString","substr","$once","dispose","destroy","methods","save","shift","statsLog","reverse","component","_vm","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","_v","proxy","staticClass","_s","_f","latestStats","_e","ref","content","locals","add","default"],"mappings":"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","file":"59.11.37.1.js","sourcesContent":["import mod from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./queue.vue?vue&type=style&index=0&id=a4cbc1d6&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./queue.vue?vue&type=style&index=0&id=a4cbc1d6&lang=stylus&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".mntrproz[data-v-a4cbc1d6]{display:flex;padding:4px}.mntrproz>div[data-v-a4cbc1d6]{width:50%;padding:4px}.mntrproz>div>b[data-v-a4cbc1d6]{display:block;font-size:12px;color:var(--text)}.mntrproz>div>span[data-v-a4cbc1d6]{position:absolute;top:4px;right:4px;opacity:.7;font-size:12px;color:var(--text)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ui-container',{attrs:{\"show-header\":!_vm.props.compact},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('fa',{attrs:{\"icon\":_vm.faTasks}}),_vm._v(\"Queue\")]},proxy:true}])},[_c('div',{staticClass:\"mntrproz\"},[_c('div',[_c('b',[_vm._v(\"In\")]),(_vm.latestStats)?_c('span',[_vm._v(_vm._s(_vm._f(\"number\")(_vm.latestStats.inbox.activeSincePrevTick))+\" / \"+_vm._s(_vm._f(\"number\")(_vm.latestStats.inbox.delayed)))]):_vm._e(),_c('div',{ref:\"in\"})]),_c('div',[_c('b',[_vm._v(\"Out\")]),(_vm.latestStats)?_c('span',[_vm._v(_vm._s(_vm._f(\"number\")(_vm.latestStats.deliver.activeSincePrevTick))+\" / \"+_vm._s(_vm._f(\"number\")(_vm.latestStats.deliver.delayed)))]):_vm._e(),_c('div',{ref:\"out\"})])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./queue.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./queue.vue?vue&type=script&lang=ts&\"","import define from '../../define-widget';\nimport { faTasks } from '@fortawesome/free-solid-svg-icons';\nimport ApexCharts from 'apexcharts';\nexport default define({\n    name: 'queue',\n    props: () => ({\n        compact: false\n    })\n}).extend({\n    data() {\n        return {\n            stats: [],\n            inChart: null,\n            outChart: null,\n            faTasks\n        };\n    },\n    watch: {\n        stats(stats) {\n            this.inChart.updateSeries([{\n                    type: 'area',\n                    data: stats.map((x, i) => ({ x: i, y: x.inbox.activeSincePrevTick }))\n                }, {\n                    type: 'area',\n                    data: stats.map((x, i) => ({ x: i, y: x.inbox.active }))\n                }, {\n                    type: 'line',\n                    data: stats.map((x, i) => ({ x: i, y: x.inbox.waiting }))\n                }, {\n                    type: 'line',\n                    data: stats.map((x, i) => ({ x: i, y: x.inbox.delayed }))\n                }]);\n            this.outChart.updateSeries([{\n                    type: 'area',\n                    data: stats.map((x, i) => ({ x: i, y: x.deliver.activeSincePrevTick }))\n                }, {\n                    type: 'area',\n                    data: stats.map((x, i) => ({ x: i, y: x.deliver.active }))\n                }, {\n                    type: 'line',\n                    data: stats.map((x, i) => ({ x: i, y: x.deliver.waiting }))\n                }, {\n                    type: 'line',\n                    data: stats.map((x, i) => ({ x: i, y: x.deliver.delayed }))\n                }]);\n        }\n    },\n    computed: {\n        latestStats() {\n            return this.stats[this.stats.length - 1];\n        }\n    },\n    mounted() {\n        const chartOpts = {\n            chart: {\n                type: 'area',\n                height: 70,\n                animations: {\n                    dynamicAnimation: {\n                        enabled: false\n                    }\n                },\n                sparkline: {\n                    enabled: true,\n                }\n            },\n            dataLabels: {\n                enabled: false\n            },\n            tooltip: {\n                enabled: false\n            },\n            stroke: {\n                curve: 'straight',\n                width: 1\n            },\n            colors: ['#00E396', '#00BCD4', '#FFB300', '#e53935'],\n            series: [{ data: [] }, { data: [] }, { data: [] }, { data: [] }],\n            yaxis: {\n                min: 0,\n            }\n        };\n        this.inChart = new ApexCharts(this.$refs.in, chartOpts);\n        this.outChart = new ApexCharts(this.$refs.out, chartOpts);\n        this.inChart.render();\n        this.outChart.render();\n        const connection = this.$root.stream.useSharedConnection('queueStats');\n        connection.on('stats', this.onStats);\n        connection.on('statsLog', this.onStatsLog);\n        connection.send('requestLog', {\n            id: Math.random().toString().substr(2, 8),\n            length: 50\n        });\n        this.$once('hook:beforeDestroy', () => {\n            connection.dispose();\n            this.inChart.destroy();\n            this.outChart.destroy();\n        });\n    },\n    methods: {\n        func() {\n            this.props.compact = !this.props.compact;\n            this.save();\n        },\n        onStats(stats) {\n            this.stats.push(stats);\n            if (this.stats.length > 50)\n                this.stats.shift();\n        },\n        onStatsLog(statsLog) {\n            for (const stats of statsLog.reverse()) {\n                this.onStats(stats);\n            }\n        }\n    }\n});\n","import { render, staticRenderFns } from \"./queue.vue?vue&type=template&id=a4cbc1d6&scoped=true&\"\nimport script from \"./queue.vue?vue&type=script&lang=ts&\"\nexport * from \"./queue.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./queue.vue?vue&type=style&index=0&id=a4cbc1d6&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a4cbc1d6\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./queue.vue?vue&type=style&index=0&id=a4cbc1d6&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"e1f94f28\", content, true, {});"],"sourceRoot":""}