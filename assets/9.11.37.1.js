(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1119:function(t,s,e){"use strict";e.r(s);var i=e(0),r=e(2),n=e(3),o=e(808),a=i.default.extend({i18n:Object(n.a)("common/views/components/user-groups.vue"),components:{XAvatars:o.a},data:()=>({ownedGroups:[],joinedGroups:[],invites:[],faUsers:r.id,faPlus:r.pc,faCheck:r.F,faBan:r.p,faEnvelopeOpenText:r.db}),mounted(){document.title=this.$root.instanceName,this.$root.api("users/groups/owned").then(t=>{this.ownedGroups=t}),this.$root.api("users/groups/joined").then(t=>{this.joinedGroups=t}),this.$root.api("i/user-group-invites").then(t=>{this.invites=t}),this.$emit("init",{title:this.$t("user-groups"),icon:r.id})},methods:{add(){this.$root.dialog({title:this.$t("group-name"),input:!0}).then(async({canceled:t,result:s})=>{if(t)return;const e=await this.$root.api("users/groups/create",{name:s});this.ownedGroups.push(e)})},acceptInvite(t){this.$root.api("users/groups/invitations/accept",{inviteId:t.id}).then(()=>{this.$root.dialog({type:"success",splash:!0}),this.$root.api("i/user-group-invites").then(t=>{this.invites=t}).then(()=>{this.$root.api("users/groups/joined").then(t=>{this.joinedGroups=t})})})},rejectInvite(t){this.$root.api("users/groups/invitations/reject",{inviteId:t.id}).then(()=>{this.$root.api("i/user-group-invites").then(t=>{this.invites=t})})}}}),u=(e(850),e(1)),c=Object(u.a)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("ui-container",{attrs:{"body-togglable":!0},scopedSlots:t._u([{key:"header",fn:function(){return[e("fa",{attrs:{icon:t.faUsers}}),t._v(" "+t._s(t.$t("owned-groups")))]},proxy:!0}])},[e("ui-margin",[e("ui-button",{on:{click:t.add}},[e("fa",{attrs:{icon:t.faPlus}}),t._v(" "+t._s(t.$t("create-group")))],1)],1),t._l(t.ownedGroups,(function(s){return e("div",{key:s.id,staticClass:"hwgkdrbl"},[e("ui-hr"),e("ui-margin",[e("router-link",{attrs:{to:"/i/groups/"+s.id}},[t._v(t._s(s.name))]),e("x-avatars",{staticStyle:{"margin-top":"8px"},attrs:{"user-ids":s.userIds}})],1)],1)}))],2),e("ui-container",{attrs:{"body-togglable":!0},scopedSlots:t._u([{key:"header",fn:function(){return[e("fa",{attrs:{icon:t.faUsers}}),t._v(" "+t._s(t.$t("joined-groups")))]},proxy:!0}])},t._l(t.joinedGroups,(function(s,i){return e("div",{key:s.id,staticClass:"hwgkdrbl"},[0!=i?e("ui-hr"):t._e(),e("ui-margin",[e("div",{staticStyle:{color:"var(--text)"}},[t._v(t._s(s.name))]),e("x-avatars",{staticStyle:{"margin-top":"8px"},attrs:{"user-ids":s.userIds}})],1)],1)})),0),e("ui-container",{attrs:{"body-togglable":!0},scopedSlots:t._u([{key:"header",fn:function(){return[e("fa",{attrs:{icon:t.faEnvelopeOpenText}}),t._v(" "+t._s(t.$t("invites")))]},proxy:!0}])},t._l(t.invites,(function(s,i){return e("div",{key:s.id,staticClass:"fvlojuur"},[0!=i?e("ui-hr"):t._e(),e("ui-margin",[e("div",{staticClass:"name",staticStyle:{color:"var(--text)"}},[t._v(t._s(s.group.name))]),e("x-avatars",{staticStyle:{"margin-top":"8px"},attrs:{"user-ids":s.group.userIds}}),e("ui-horizon-group",[e("ui-button",{on:{click:function(e){return t.acceptInvite(s)}}},[e("fa",{attrs:{icon:t.faCheck}}),t._v(" "+t._s(t.$t("accept-invite")))],1),e("ui-button",{on:{click:function(e){return t.rejectInvite(s)}}},[e("fa",{attrs:{icon:t.faBan}}),t._v(" "+t._s(t.$t("reject-invite")))],1)],1)],1)],1)})),0)],1)}),[],!1,null,"303b2a9f",null);s.default=c.exports},721:function(t,s,e){var i=e(851);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e(5).default)("23212cb5",i,!0,{})},808:function(t,s,e){"use strict";var i=e(0).default.extend({props:{userIds:{required:!0}},data:()=>({us:[]}),async created(){this.us=await this.$root.api("users/show",{userIds:this.userIds})}}),r=e(1),n=Object(r.a)(i,(function(){var t=this.$createElement,s=this._self._c||t;return s("div",this._l(this.us,(function(t){return s("mk-avatar",{key:t.id,staticStyle:{width:"32px",height:"32px"},attrs:{user:t}})})),1)}),[],!1,null,null,null);s.a=n.exports},850:function(t,s,e){"use strict";var i=e(721);e.n(i).a},851:function(t,s,e){(s=e(4)(!1)).push([t.i,".hwgkdrbl[data-v-303b2a9f]{display:block}",""]),t.exports=s}}]);
//# sourceMappingURL=9.11.37.1.js.map